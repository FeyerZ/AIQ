{% extends 'base.html' %}
{% block title %}
Home
{% endblock %}
{% block head %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#id_major').change(function() {
                var url = "{% url 'load_chapters' %}";
                var major = $(this).val();
                $.ajax({
                    url: url,
                    data: {
                        'major': major
                    },
                    success: function(data) {
                        $('#id_chapter').empty();
                        $('#id_chapter').append('<option value="" disabled selected>Select a chapter</option>');
                        $.each(data, function(key, value) {
                            $('#id_chapter').append('<option value="' + value[0] + '">' + value[1] + '</option>');
                        });
                    }
                });
            });
        });
    </script>
{% endblock %}


{% block content %}
<style>
    form {
  margin: 0 auto;
  width: 50%;
}

label {
  display: block;
}

input,
textarea {
  width: 100%;
}

.form-field-wrapper {
  margin-bottom: 10px;
}

.form-field-wrapper.flex {
  display: flex;
}

.form-field-wrapper.flex>div {
  flex: 1;
  margin-left: 10px;
}

.form-field-wrapper.flex>div:first-child {
  margin-left: 0;
}
</style>
<p>Your selected major is: {{ major }}</p>
<p>Your selected chapter is: {{ chapter }}</p>
<form method="post">
       {% csrf_token %}
       {{ form.as_table }}
       <input type="submit" value="Submit">
</form>
<!--form.as_p-->
<!--form.as_ul-->
<!--form.as_table-->
<!--<form method="post">
    {{ form.as_table }}
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div>
        <div class="fieldWrapper">
            {{ form.subject.errors }}
            <label for="id_first_name">First Name:</label>
            {{ form.first_name }}
        </div>
        <div class="fieldWrapper">
            {{ form.subject.errors }}
            <label for="id_last_name">Last Name:</label>
            {{ form.last_name }}
        </div>
        <div class="fieldWrapper">
            {{ form.age_number.errors }}
            <label for="id_age_number">Age:</label>
            {{ form.age_number }}
        </div>
        <div class="fieldWrapper">
            {{ form.interest_points.errors }}
            <label for="id_interest_points">Interest:</label>
            {{ form.interest_points }}
        </div>
        <div class="fieldWrapper">
            {{ form.personality.errors }}
            <label for="id_personality">Personality</label>
            {{ form.personality }}
        </div>
    </div>
    <p><input type="submit" value="Submit" /></p>
</form>
--->
<p>{% include 'profil_psihologic.html' %} </p>

{% endblock %}